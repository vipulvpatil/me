{{ define "canonical" }}
  {{- $canonical := strings.Replace .Params.url "/blog" .Site.Params.mediumRoot }}
  <link rel="canonical" href="{{ $canonical }}"/>
{{ end }}

{{ define "main" }}
  <main aria-role="main">
    <header class="homepage-header">
      <h1>{{ .Title }}</h1>
      {{ with .Params.subtitle }}
        <span class="subtitle">{{ . }}</span>
      {{ end }}
    </header>
    <div class="homepage-content post">
      {{ .Content }}
    </div>
    {{ partial "top3blogs.html" . }}
  </main>
{{ end }}
